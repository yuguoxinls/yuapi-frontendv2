"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{73597:function(ue,F,s){s.r(F),s.d(F,{default:function(){return o}});var z=s(97983),t=s.n(z),V=s(11281),g=s.n(V),Y=s(40794),p=s.n(Y),T=s(12741),_=s.n(T),M=s(51042),H=s(15715),U=s(82133),X=s(2236),$=s(70425),ee=s(36275),h=s(12461),Z=s(71577),B=s(63463),C=s(67294),P=s(74594),W=s(85402),c=s(85893),N=function(f){var e=f.visible,k=f.columns,S=f.onCancel,b=f.onSubmit;return(0,c.jsx)(W.Z,{visible:e,footer:null,onCancel:function(){return S==null?void 0:S()},children:(0,c.jsx)(U.Z,{type:"form",columns:k,onSubmit:function(){var j=p()(t()().mark(function w(I){return t()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:b==null||b(I);case 1:case"end":return E.stop()}},w)}));return function(w){return j.apply(this,arguments)}}()})})},A=N,Q=function(f){var e=f.values,k=f.visible,S=f.columns,b=f.onCancel,j=f.onSubmit,w=(0,C.useRef)();return(0,C.useEffect)(function(){if(w){var I;(I=w.current)===null||I===void 0||I.setFieldsValue(e)}},[e]),(0,c.jsx)(W.Z,{visible:k,footer:null,onCancel:function(){return b==null?void 0:b()},children:(0,c.jsx)(U.Z,{type:"form",formRef:w,columns:S,onSubmit:function(){var I=p()(t()().mark(function K(E){return t()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:j==null||j(E);case 1:case"end":return L.stop()}},K)}));return function(K){return I.apply(this,arguments)}}()})})},G=Q,l=function(){var f=(0,C.useState)(!1),e=_()(f,2),k=e[0],S=e[1],b=(0,C.useState)(!1),j=_()(b,2),w=j[0],I=j[1],K=(0,C.useState)(!1),E=_()(K,2),q=E[0],L=E[1],R=(0,C.useRef)(),se=(0,C.useState)(),ne=_()(se,2),y=ne[0],x=ne[1],ie=(0,C.useState)([]),re=_()(ie,2),D=re[0],ae=re[1],le=function(){var d=p()(t()().mark(function u(a){var i;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=h.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,(0,P.Y4)(g()({},a));case 4:return i(),h.ZP.success("\u521B\u5EFA\u6210\u529F"),S(!1),n.abrupt("return",!0);case 10:return n.prev=10,n.t0=n.catch(1),i(),h.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 15:case"end":return n.stop()}},u,null,[[1,10]])}));return function(a){return d.apply(this,arguments)}}(),oe=function(){var d=p()(t()().mark(function u(a){var i;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(y){n.next=2;break}return n.abrupt("return");case 2:return i=h.ZP.loading("\u4FEE\u6539\u4E2D"),n.prev=3,n.next=6,(0,P.T7)(g()({id:y.id},a));case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 16:case"end":return n.stop()}},u,null,[[3,11]])}));return function(a){return d.apply(this,arguments)}}(),ce=function(){var d=p()(t()().mark(function u(a){var i,m;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h.ZP.loading("\u53D1\u5E03\u4E2D"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,P.GC)({id:a.id});case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 17:case"end":return r.stop()}},u,null,[[3,12]])}));return function(a){return d.apply(this,arguments)}}(),de=function(){var d=p()(t()().mark(function u(a){var i,m;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h.ZP.loading("\u53D1\u5E03\u4E2D"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,P.zr)({id:a.id});case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 17:case"end":return r.stop()}},u,null,[[3,12]])}));return function(a){return d.apply(this,arguments)}}(),te=function(){var d=p()(t()().mark(function u(a){var i,m;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h.ZP.loading("\u6B63\u5728\u5220\u9664"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,P.XG)({id:a.id});case 6:return i(),h.ZP.success("\u5220\u9664\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),i(),h.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 17:case"end":return r.stop()}},u,null,[[3,12]])}));return function(a){return d.apply(this,arguments)}}(),J=[{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"url",dataIndex:"url",valueType:"text"},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestParams",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"jsonCode"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"jsonCode"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(u,a){return[(0,c.jsx)("a",{onClick:function(){I(!0),x(a)},children:"\u4FEE\u6539"},"config"),a.status===0?(0,c.jsx)("a",{onClick:function(){ce(a)},children:"\u53D1\u5E03"},"config"):null,a.status===1?(0,c.jsx)(Z.Z,{type:"text",danger:!0,onClick:function(){de(a)},children:"\u4E0B\u7EBF"},"config"):null,(0,c.jsx)(Z.Z,{type:"text",danger:!0,onClick:function(){te(a)},children:"\u5220\u9664"},"config")]}}];return(0,c.jsxs)(H._z,{children:[(0,c.jsx)(U.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:R,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,c.jsxs)(Z.Z,{type:"primary",onClick:function(){S(!0)},children:[(0,c.jsx)(M.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var d=p()(t()().mark(function u(a,i,m){var n;return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,P.Kz)(g()({},a));case 2:if(n=O.sent,!(n!=null&&n.data)){O.next=7;break}return O.abrupt("return",{data:(n==null?void 0:n.data.records)||[],success:!0,total:(n==null?void 0:n.data.total)||0});case 7:return O.abrupt("return",{data:[],success:!1,total:0});case 8:case"end":return O.stop()}},u)}));return function(u,a,i){return d.apply(this,arguments)}}(),columns:J,rowSelection:{onChange:function(u,a){ae(a)}}}),(D==null?void 0:D.length)>0&&(0,c.jsxs)(X.S,{extra:(0,c.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,c.jsx)("a",{style:{fontWeight:600},children:D.length})," ","\u9879 \xA0\xA0",(0,c.jsxs)("span",{children:["\u670D\u52A1\u8C03\u7528\u6B21\u6570\u603B\u8BA1 ",D.reduce(function(d,u){return d+u.callNo},0)," \u4E07"]})]}),children:[(0,c.jsx)(Z.Z,{onClick:p()(t()().mark(function d(){var u,a;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,te(D);case 2:ae([]),(u=R.current)===null||u===void 0||(a=u.reloadAndRest)===null||a===void 0||a.call(u);case 4:case"end":return m.stop()}},d)})),children:"\u6279\u91CF\u5220\u9664"}),(0,c.jsx)(Z.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,c.jsx)(G,{columns:J,onSubmit:function(){var d=p()(t()().mark(function u(a){var i;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe(a);case 2:i=n.sent,i&&(I(!1),x(void 0),R.current&&R.current.reload());case 4:case"end":return n.stop()}},u)}));return function(u){return d.apply(this,arguments)}}(),onCancel:function(){I(!1),q||x(void 0)},visible:w,values:y||{}}),(0,c.jsx)(B.Z,{width:600,visible:q,onClose:function(){x(void 0),L(!1)},closable:!1,children:(y==null?void 0:y.name)&&(0,c.jsx)($.vY,{column:2,title:y==null?void 0:y.name,request:p()(t()().mark(function d(){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:y||{}});case 1:case"end":return a.stop()}},d)})),params:{id:y==null?void 0:y.name},columns:J})}),(0,c.jsx)(A,{columns:J,onCancel:function(){S(!1)},onSubmit:function(u){le(u)},visible:k})]})},o=l},74594:function(ue,F,s){s.d(F,{GC:function(){return N},Kz:function(){return C},Lu:function(){return ee},T7:function(){return Q},US:function(){return X},XG:function(){return H},Y4:function(){return _},zr:function(){return W}});var z=s(97983),t=s.n(z),V=s(11281),g=s.n(V),Y=s(40794),p=s.n(Y),T=s(36275);function _(l,o){return M.apply(this,arguments)}function M(){return M=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/add",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),M.apply(this,arguments)}function H(l,o){return U.apply(this,arguments)}function U(){return U=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/delete",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),U.apply(this,arguments)}function X(l,o){return $.apply(this,arguments)}function $(){return $=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/get",g()({method:"GET",params:g()({},o)},v||{})));case 1:case"end":return e.stop()}},l)})),$.apply(this,arguments)}function ee(l,o){return h.apply(this,arguments)}function h(){return h=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/invoke",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),h.apply(this,arguments)}function Z(l,o){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function l(o,v){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/interfaceInfo/list",_objectSpread({method:"GET",params:_objectSpread({},o)},v||{})));case 1:case"end":return e.stop()}},l)})),B.apply(this,arguments)}function C(l,o){return P.apply(this,arguments)}function P(){return P=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/list/page",g()({method:"GET",params:g()({},o)},v||{})));case 1:case"end":return e.stop()}},l)})),P.apply(this,arguments)}function W(l,o){return c.apply(this,arguments)}function c(){return c=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/offline",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),c.apply(this,arguments)}function N(l,o){return A.apply(this,arguments)}function A(){return A=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/online",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),A.apply(this,arguments)}function Q(l,o){return G.apply(this,arguments)}function G(){return G=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,T.request)("/api/interfaceInfo/update",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),G.apply(this,arguments)}}}]);
